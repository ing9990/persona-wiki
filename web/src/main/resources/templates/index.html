<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
  <title>홈</title>
  <style>
    /* 생략... */
  </style>
</head>

<body>
<div layout:fragment="content">
  <!-- 히어로 섹션 -->
  <section class="hero-section mb-12">
    <div class="flex flex-col md:flex-row items-center">
      <div class="md:w-3/4 mb-6 md:mb-0">
        <h1 class="hero-title">공적인 인물들에 대한 여러분의 생각을 공유해보세요!</h1>
        <p class="hero-text">익명으로 안전하게 의견을 표현하고, 다양한 시각을 만나보세요.</p>
        <a href="/figures" class="hero-button">
          인물 둘러보기
        </a>
      </div>
    </div>
  </section>

  <!-- 인물 목록 섹션 -->
  <section id="figures" class="mb-12">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-3xl font-bold text-gray-800">주목받는 인물들</h2>
      <div class="flex space-x-3">
        <!-- 인물 추가 버튼 (아이콘만) -->
        <a href="/add-figure"
           class="icon-button bg-indigo-600 text-white hover:bg-indigo-700 transition"
           title="인물 추가">
          <i class="fas fa-plus-circle"></i>
        </a>

        <!-- 모든 카테고리 버튼 (아이콘만) -->
        <a href="/categories"
           class="icon-button bg-indigo-100 text-indigo-600 hover:bg-indigo-200 transition"
           title="모든 카테고리">
          <i class="fas fa-th-large"></i>
        </a>
      </div>
    </div>

    <!-- 인물 카드 그리드 -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- 인물 카드 (Thymeleaf로 반복) - 경로 수정 -->
      <div th:each="figure : ${figures}"
           th:replace="fragments/figure-card :: simple-figure-card(figure=${figure})"></div>
      <!-- 인물 추가 카드 - 경로 수정 -->
      <a href="/add-figure" th:replace="fragments/figure-card :: add-figure-card"></a>
    </div>
  </section>
</div>

<!-- 페이지 자바스크립트 -->
<th:block layout:fragment="script">
  <!-- 공통 유틸리티 -->
  <script src="/js/utils/utils.js"></script>

  <!-- 페이지별 스크립트 -->
  <script src="/js/utils/image-handler.js"></script>
  <script src="/js/home/index-page.js"></script>

  <script>
    // 기본 페이지 초기화 코드
    document.addEventListener('DOMContentLoaded', function () {
      // 이미지 오류 처리 등의 초기화 코드만 유지
    });
  </script>
</th:block>
</body>
</html>