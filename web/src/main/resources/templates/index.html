<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
  <title>í™ˆ</title>
  <style>
    /* ì¸ë¬¼ ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ìˆ˜ì • - .figure-image-container ë¶€ë¶„ */
    .figure-image-container {
      height: 250px; /* ì¹´ë“œ í¬ê¸° ì¦ê°€ */
      overflow: hidden;
      position: relative;
    }

    .figure-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center 15%; /* ì´ë¯¸ì§€ ìœ„ì¹˜ ì¡°ì • - ì–¼êµ´ì´ ë” ì˜ ë³´ì´ë„ë¡ ìƒë‹¨ì— ë§ì¶¤ */
      transition: transform 0.3s ease; /* í˜¸ë²„ íš¨ê³¼ë¥¼ ìœ„í•œ ì „í™˜ ì¶”ê°€ */
    }

    /* í˜¸ë²„ íš¨ê³¼ ì¶”ê°€ */
    .card-hover:hover .figure-image {
      transform: scale(1.05);
    }

    /* ì¸ë¬¼ ì´ë¦„ í…ìŠ¤íŠ¸ì— ê·¸ë¦¼ì íš¨ê³¼ ì¶”ê°€ */
    .drop-shadow-lg {
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
    }

    /* ì¹´ë“œ í¬ê¸° ê· ì¼í™”ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* ì¹´ë“œ ìµœì†Œ ë„ˆë¹„ ì¦ê°€ */
      gap: 1.5rem;
    }

    @media (min-width: 768px) {
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* íˆì–´ë¡œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
    .hero-section {
      background: linear-gradient(135deg, #6366F1, #8B5CF6);
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      margin-bottom: 3rem;
    }

    .hero-title {
      font-size: 2rem;
      font-weight: bold;
      color: white;
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    .hero-text {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.25rem;
      margin-bottom: 1.5rem;
    }

    .hero-button {
      display: inline-block;
      background-color: white;
      color: #4F46E5;
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      transition: all 0.2s;
    }

    .hero-button:hover {
      background-color: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }
    }

    /* ì•„ì´ì½˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .icon-button {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s ease;
    }

    .icon-button:hover {
      transform: translateY(-2px);
    }
  </style>
</head>

<body>
<div layout:fragment="content">
  <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
  <section class="hero-section mb-12">
    <div class="flex flex-col md:flex-row items-center">
      <div class="md:w-3/4 mb-6 md:mb-0">
        <h1 class="hero-title">ê³µì ì¸ ì¸ë¬¼ë“¤ì— ëŒ€í•œ ì—¬ëŸ¬ë¶„ì˜ ìƒê°ì„ ê³µìœ í•´ë³´ì„¸ìš” ğŸ‘</h1>
        <p class="hero-text">ìµëª…ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì˜ê²¬ì„ í‘œí˜„í•˜ê³ , ë‹¤ì–‘í•œ ì‹œê°ì„ ë§Œë‚˜ë³´ì„¸ìš”.</p>
        <a href="/figures" class="hero-button">
          ì¸ë¬¼ ë‘˜ëŸ¬ë³´ê¸°
        </a>
      </div>
    </div>
  </section>

  <!-- ì¸ë¬¼ ëª©ë¡ ì„¹ì…˜ -->
  <section id="figures" class="mb-12">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-3xl font-bold text-gray-800">ì£¼ëª©ë°›ëŠ” ì¸ë¬¼ë“¤</h2>
      <div class="flex space-x-3">
        <!-- ì¸ë¬¼ ì¶”ê°€ ë²„íŠ¼ (ì•„ì´ì½˜ë§Œ) -->
        <a href="#"
           class="open-figure-modal icon-button bg-indigo-600 text-white hover:bg-indigo-700 transition"
           title="ì¸ë¬¼ ì¶”ê°€">
          <i class="fas fa-plus-circle"></i>
        </a>

        <!-- ëª¨ë“  ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ (ì•„ì´ì½˜ë§Œ) -->
        <a href="/categories"
           class="icon-button bg-indigo-100 text-indigo-600 hover:bg-indigo-200 transition"
           title="ëª¨ë“  ì¹´í…Œê³ ë¦¬">
          <i class="fas fa-th-large"></i>
        </a>
      </div>
    </div>

    <!-- ì¸ë¬¼ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- ì¸ë¬¼ ì¹´ë“œ (Thymeleafë¡œ ë°˜ë³µ) -->
      <div th:each="figure : ${figures}"
           class="bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 card-hover flex flex-col h-full">
        <div class="figure-image-container relative">
          <!-- ì¸ë¬¼ ì´ë¯¸ì§€ -->
          <img
              th:src="${@layoutHelper.getProfileImageByString(figure.image)}"
              th:alt="${figure.name}" class="figure-image" data-handle-error="true"
              data-placeholder="/img/profile-placeholder.svg">

          <!-- ì´ë¦„ì„ ì´ë¯¸ì§€ ìœ„ì— ì˜¤ë²„ë ˆì´ë¡œ ë°°ì¹˜ -->
          <div
              class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4">
            <h3 class="text-xl font-bold text-white mb-0 drop-shadow-lg" th:text="${figure.name}">ì¸ë¬¼
              ì´ë¦„</h3>
          </div>

          <!-- ì¹´í…Œê³ ë¦¬ ë°°ì§€ -->
          <span th:text="${figure.categoryName}"
                class="absolute top-4 right-4 bg-indigo-600 text-white text-sm px-3 py-1 rounded-full shadow-md">
          ì¹´í…Œê³ ë¦¬
        </span>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <!-- ì¸ë¬¼ ì†Œê°œ (ì¼ë¶€ë§Œ í‘œì‹œ) -->
          <p class="text-gray-600 mb-4 flex-grow"
             th:text="${#strings.abbreviate(figure.bio, 100)}">
            ì¸ë¬¼ ì†Œê°œ í…ìŠ¤íŠ¸...
          </p>

          <!-- í•˜ë‹¨ ì •ë³´ ì˜ì—­ - í†µê³„ì™€ ë²„íŠ¼ì„ ê°€ë¡œë¡œ ì¼ë ¬ ë°°ì¹˜ -->
          <div class="mt-auto flex items-center justify-between">
            <!-- í‰íŒ ì§€í‘œ -->
            <div class="flex items-center">
              <div class="flex items-center mr-3 tooltip" data-tooltip="ìˆ­ë°°">
                <i class="fas fa-crown text-green-500 mr-1"></i>
                <span th:text="${figure.positives}">0</span>
              </div>
              <div class="flex items-center mr-3 tooltip" data-tooltip="ì¤‘ë¦½">
                <i class="fas fa-balance-scale text-blue-500 mr-1"></i>
                <span th:text="${figure.neutrals}">0</span>
              </div>
              <div class="flex items-center tooltip" data-tooltip="ì‚¬í˜•">
                <i class="fas fa-skull text-red-500 mr-1"></i>
                <span th:text="${figure.negatives}">0</span>
              </div>
            </div>
            <!-- ìƒì„¸ í˜ì´ì§€ ë§í¬ -->
            <a th:href="${@layoutHelper.toDetail(figure.categoryId, figure.name)}"
               class="inline-block bg-indigo-600 text-white px-3 py-1.5 rounded-md hover:bg-indigo-700 transition text-sm">
              ìì„¸íˆ ë³´ê¸°
            </a>
          </div>
        </div>
      </div>

      <!-- ì¸ë¬¼ ì¶”ê°€ ì¹´ë“œ -->
      <a href="#"
         class="open-figure-modal bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 card-hover flex flex-col h-full border-2 border-dashed border-indigo-300 hover:border-indigo-500">
        <div class="figure-image-container relative flex items-center justify-center bg-indigo-50">
          <div class="text-center p-4">
            <div
                class="w-20 h-20 mx-auto bg-white rounded-full flex items-center justify-center mb-2 shadow-md">
              <i class="fas fa-user-plus text-indigo-600 text-3xl"></i>
            </div>
            <h3 class="text-xl font-bold text-indigo-600">ìƒˆ ì¸ë¬¼ ë“±ë¡</h3>
          </div>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <p class="text-gray-600 mb-4 flex-grow text-center">
            ì•Œê³  ê³„ì‹  ê³µì  ì¸ë¬¼ì„ ì¶”ê°€í•˜ê³  ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ ì˜ê²¬ì„ ë‚˜ëˆ ë³´ì„¸ìš”.
          </p>

          <div class="mt-auto flex justify-center">
          <span
              class="inline-block bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition text-sm">
            <i class="fas fa-plus-circle mr-1"></i> ì¸ë¬¼ ì¶”ê°€í•˜ê¸°
          </span>
          </div>
        </div>
      </a>
    </div>
  </section>
</div>

<!-- í˜ì´ì§€ ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
<th:block layout:fragment="script">
  <!-- ê³µí†µ ìœ í‹¸ë¦¬í‹° -->
  <script src="/js/utils/utils.js"></script>

  <!-- í˜ì´ì§€ë³„ ìŠ¤í¬ë¦½íŠ¸ -->
  <script src="/js/utils/image-handler.js"></script>
  <script src="/js/home/index-page.js"></script>

  <script>
    // ê¸°ë³¸ í˜ì´ì§€ ì´ˆê¸°í™” ì½”ë“œ
    document.addEventListener('DOMContentLoaded', function () {
      // ì´ë¯¸ì§€ ì˜¤ë¥˜ ì²˜ë¦¬ ë“±ì˜ ì´ˆê¸°í™” ì½”ë“œë§Œ ìœ ì§€
    });
  </script>
</th:block>
</body>
</html>