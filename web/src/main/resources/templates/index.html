<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
  <title>í™ˆ - êµ­ë¯¼ì‚¬í˜•íˆ¬í‘œ</title>
  <!-- ë©”íƒ€ íƒœê·¸ ê°œì„  -->
  <th:block layout:fragment="meta">
    <meta name="description" content="êµ­ë¯¼ì‚¬í˜•íˆ¬í‘œ - ê³µì ì¸ ì¸ë¬¼ë“¤ì— ëŒ€í•œ í‰ê°€ì™€ ì˜ê²¬ì„ ììœ ë¡­ê²Œ ë‚˜ëˆ„ëŠ” ê³µê°„ì…ë‹ˆë‹¤.">
    <meta name="keywords" content="êµ­ë¯¼ì‚¬í˜•íˆ¬í‘œ, ê³µì¸, ì¸ë¬¼í‰ê°€, ì—¬ë¡ , ì •ì¹˜ì¸, ì—°ì˜ˆì¸, ìœ íŠœë²„">
  </th:block>

  <style>
    /* ì• ë‹ˆë©”ì´ì…˜ ë° ê°•í™”ëœ ìŠ¤íƒ€ì¼ */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
      100% {
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 0.8s ease-out forwards;
    }

    .animate-float {
      animation: floatUp 6s ease-in-out infinite;
    }

    .animate-pulse-icon {
      animation: pulse 2s infinite;
    }

    /* íˆì–´ë¡œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ - ëª¨ë°”ì¼ ìµœì í™” */
    .hero-gradient {
      background: linear-gradient(135deg, #6366F1, #8B5CF6);
      background-size: 200% 200%;
      animation: gradientBG 15s ease infinite;
      overflow: hidden;
    }

    /* ëª¨ë°”ì¼ì—ì„œ ë” ì‘ê³  ì„¸ë ¨ëœ íˆì–´ë¡œ ì„¹ì…˜ */
    @media (max-width: 639px) {
      .hero-section {
        padding: 1.5rem 1rem;
        border-radius: 1rem;
      }

      .hero-title {
        font-size: 1.75rem;
        line-height: 1.2;
        letter-spacing: -0.01em;
      }

      .hero-description {
        font-size: 1rem;
        line-height: 1.5;
        margin-bottom: 1.25rem;
      }

      .hero-buttons {
        flex-direction: column;
        width: 100%;
        gap: 0.75rem;
      }

      .hero-button {
        width: 100%;
        justify-content: center;
        padding: 0.75rem 1rem;
        font-size: 0.95rem;
      }

      .hero-image-container {
        display: none;
      }

      /* ëª¨ë°”ì¼ì—ì„œëŠ” ì‘ì€ ì•„ì´ì½˜ í‘œì‹œ */
      .hero-mobile-icon {
        display: flex;
        margin-bottom: 1rem;
      }
    }

    /* íƒœë¸”ë¦¿/ë°ìŠ¤í¬íƒ‘ ìµœì í™” */
    @media (min-width: 640px) {
      .hero-section {
        padding: 2.5rem 1.5rem;
      }

      .hero-title {
        font-size: 2.5rem;
        line-height: 1.2;
      }

      .hero-description {
        font-size: 1.125rem;
      }

      .hero-mobile-icon {
        display: none;
      }

      .hero-image-container {
        display: flex;
      }

      .hero-buttons {
        flex-direction: row;
      }

      .hero-button {
        width: auto;
      }
    }

    /* í° í™”ë©´ ìµœì í™” */
    @media (min-width: 1024px) {
      .hero-section {
        padding: 3rem 2rem;
      }

      .hero-title {
        font-size: 3rem;
      }

      .hero-description {
        font-size: 1.25rem;
      }
    }

    @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    /* ì¸ë¬¼ ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    .figure-image-container {
      height: 280px;
      overflow: hidden;
      position: relative;
    }

    .figure-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center 15%;
      transition: transform 0.5s ease;
    }

    .card-hover:hover .figure-image {
      transform: scale(1.08);
    }

    /* ì´ë¦„ ì˜¤ë²„ë ˆì´ */
    .name-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
      padding: 2rem 1rem 1rem;
    }

    /* í‰íŒ ì§€í‘œ ìŠ¤íƒ€ì¼ */
    .reputation-indicator {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .reputation-item {
      display: flex;
      align-items: center;
      transition: transform 0.2s ease;
    }

    .reputation-item:hover {
      transform: scale(1.15);
    }

    /* ëŒ“ê¸€ ë±ƒì§€ ê°œì„  ìŠ¤íƒ€ì¼ */
    .comments-badge {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      background-color: #EEF2FF;
      color: #4F46E5;
      padding: 0.5rem 0.75rem;
      border-radius: 9999px;
      font-weight: 500;
      transition: all 0.25s ease;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .comments-badge:hover {
      background-color: #E0E7FF;
      transform: translateY(-2px);
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }

    /* ì¸ë¬¼ ì¶”ê°€ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .add-figure-card {
      height: 100%;
      border: 2px dashed rgba(99, 102, 241, 0.3);
      transition: all 0.3s ease;
    }

    .add-figure-card:hover {
      border-color: rgba(99, 102, 241, 0.8);
      background-color: rgba(99, 102, 241, 0.05);
    }

    .add-figure-icon {
      transition: transform 0.3s ease;
    }

    .add-figure-card:hover .add-figure-icon {
      transform: scale(1.1) rotate(15deg);
    }

    /* ê´‘ê³  ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    .ad-container {
      border-radius: 0.75rem;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(99, 102, 241, 0.1);
    }

    .ad-container:hover {
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
      transform: translateY(-2px);
    }

    /* ì¹´í…Œê³ ë¦¬ ë°°ì§€ */
    .category-badge {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background-color: #6366F1;
      color: white;
      font-size: 0.75rem;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-weight: 500;
      box-shadow: 0 2px 4px rgba(99, 102, 241, 0.3);
      transition: all 0.2s ease;
    }

    .card-hover:hover .category-badge {
      transform: translateY(-2px);
      box-shadow: 0 3px 6px rgba(99, 102, 241, 0.4);
    }

    /* ìŠ¤í¬ë¡¤ íš¨ê³¼ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ */
    .scroll-reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s ease;
    }

    .scroll-reveal.revealed {
      opacity: 1;
      transform: translateY(0);
    }

    /* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ìµœì í™” */
    @media (min-width: 640px) {
      .grid-cards {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
      }
    }

    @media (min-width: 1024px) {
      .grid-cards {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* ì• í”Œ ìŠ¤íƒ€ì¼ ë²„íŠ¼ ë° ìš”ì†Œ */
    .apple-button {
      border-radius: 1.5rem;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      letter-spacing: -0.01em;
    }

    .apple-button-primary {
      background-color: white;
      color: #6366F1;
    }

    .apple-button-secondary {
      background-color: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Notion ìŠ¤íƒ€ì¼ ì¹´ë“œ */
    .notion-card {
      border-radius: 0.75rem;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      background-color: white;
    }

    .notion-card:hover {
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      transform: translateY(-3px);
    }
  </style>
</head>

<body>
<div layout:fragment="content">
  <!-- íˆì–´ë¡œ ì„¹ì…˜ - ëª¨ë°”ì¼ ìµœì í™” -->
  <section
      class="hero-gradient rounded-2xl shadow-lg mb-12 overflow-hidden relative animate-fadeIn hero-section">
    <div class="absolute inset-0 overflow-hidden">
      <!-- ë°°ê²½ SVG íŒ¨í„´ -->
      <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"
           class="absolute opacity-10">
        <defs>
          <pattern id="dotPattern" width="20" height="20" patternUnits="userSpaceOnUse">
            <circle cx="10" cy="10" r="1.5" fill="white"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#dotPattern)"/>
      </svg>
    </div>

    <div class="relative z-10">
      <div class="max-w-5xl mx-auto">
        <!-- ëª¨ë°”ì¼ìš© ì‘ì€ ì•„ì´ì½˜ -->
        <div class="hero-mobile-icon flex justify-center">
          <div
              class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                 stroke="white" stroke-width="1.5" stroke-linecap="round"
                 stroke-linejoin="round" class="w-8 h-8 opacity-90">
              <circle cx="12" cy="8" r="5"></circle>
              <path d="M20 21v-2a7 7 0 0 0-14 0v2"></path>
              <path d="M12 12l-2 3 2 2 2-2-2-3z"></path>
            </svg>
          </div>
        </div>

        <div class="flex flex-col md:flex-row items-center">
          <div class="md:w-2/3 mb-4 md:mb-0 text-center sm:text-left">
            <h1 class="hero-title font-bold text-white mb-4 leading-tight">
              ê³µì ì¸ ì¸ë¬¼ë“¤ì— ëŒ€í•œ<br class="hidden sm:inline"> ì—¬ëŸ¬ë¶„ì˜ ìƒê°ì„ ê³µìœ í•´ë³´ì„¸ìš”
              <span class="inline-block ml-1 animate-float">ğŸ‘</span>
            </h1>
            <p class="hero-description text-white text-opacity-90 mb-6 max-w-2xl mx-auto sm:mx-0">
              ìµëª…ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì˜ê²¬ì„ í‘œí˜„í•˜ê³ , ë‹¤ì–‘í•œ ì‹œê°ì„ ë§Œë‚˜ë³´ì„¸ìš”.
            </p>
            <div class="hero-buttons flex flex-wrap gap-4">
              <a href="/figures"
                 class="hero-button apple-button apple-button-primary shadow-md hover:shadow-lg transition transform hover:-translate-y-1">
                <i class="fas fa-users mr-2"></i>
                ì¸ë¬¼ ë‘˜ëŸ¬ë³´ê¸°
              </a>
              <a href="/ranking"
                 class="hero-button apple-button apple-button-secondary transition transform hover:-translate-y-1">
                <i class="fas fa-trophy mr-2"></i>
                ë­í‚¹ ë³´ê¸°
              </a>
            </div>
          </div>

          <div class="hero-image-container md:w-1/3 flex justify-center">
            <!-- íˆì–´ë¡œ ì´ë¯¸ì§€/ì¼ëŸ¬ìŠ¤íŠ¸ -->
            <div class="relative w-60 h-60 animate-float" style="animation-delay: 1s;">
              <div class="absolute inset-0 bg-white bg-opacity-20 rounded-full blur-xl"></div>
              <div class="relative h-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                     stroke="white" stroke-width="1.5" stroke-linecap="round"
                     stroke-linejoin="round" class="w-32 h-32 opacity-90">
                  <circle cx="12" cy="8" r="5"></circle>
                  <path d="M20 21v-2a7 7 0 0 0-14 0v2"></path>
                  <path d="M12 12l-2 3 2 2 2-2-2-3z"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ì¸ê¸° ì¸ë¬¼ ëª©ë¡ ì„¹ì…˜ -->
  <section id="figures" class="mb-16">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 flex items-center">
        ì¸ê¸° ê¸‰ìƒìŠ¹ ì¸ë¬¼
        <span class="ml-2 text-red-500 animate-pulse-icon">ğŸ”¥</span>
      </h2>

      <div class="flex space-x-3">
        <!-- ì¸ë¬¼ ì¶”ê°€ ë²„íŠ¼ -->
        <a class="requires-login icon-button bg-indigo-600 text-white hover:bg-indigo-700 transition shadow-md"
           title="ì¸ë¬¼ ì¶”ê°€"
           th:onclick="${current.loggedIn()} ? 'openFigureModal()' : ''">
          <i class="fas fa-plus-circle"></i>
        </a>

        <!-- ëª¨ë“  ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ -->
        <a href="/categories"
           class="icon-button bg-indigo-100 text-indigo-600 hover:bg-indigo-200 transition shadow-sm"
           title="ëª¨ë“  ì¹´í…Œê³ ë¦¬">
          <i class="fas fa-th-large"></i>
        </a>
      </div>
    </div>

    <!-- ì¸ë¬¼ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
    <div class="grid-cards">
      <!-- ì¸ë¬¼ ì¹´ë“œ 1-10ê°œ -->
      <div th:each="figure, iterStat : ${figures}" th:if="${iterStat.index < 10}"
           class="notion-card overflow-hidden transition-all duration-300 card-hover flex flex-col h-full"
      >
        <div class="figure-image-container">
          <!-- ì¸ë¬¼ ì´ë¯¸ì§€ -->
          <a th:href="${figure.toFigureDetailsUri()}">
            <img
                th:src="${@layoutHelper.getProfileImageByString(figure.image)}"
                th:alt="${figure.name}" class="figure-image" data-handle-error="true"
                data-placeholder="/img/profile-placeholder.svg"
            >
          </a>

          <!-- ì´ë¦„ì„ ì´ë¯¸ì§€ ìœ„ì— ì˜¤ë²„ë ˆì´ë¡œ ë°°ì¹˜ -->
          <div class="name-overlay">
            <h3 class="text-xl font-bold text-white mb-0 drop-shadow-lg" th:text="${figure.name}">ì¸ë¬¼
              ì´ë¦„</h3>
          </div>

          <!-- ì¹´í…Œê³ ë¦¬ ë°°ì§€ -->
          <span th:text="${figure.categoryName}"
                class="category-badge">
            ì¹´í…Œê³ ë¦¬
          </span>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <!-- ì¸ë¬¼ ì†Œê°œ (ì¼ë¶€ë§Œ í‘œì‹œ) -->
          <p class="text-gray-600 mb-4 flex-grow line-clamp-3"
             th:text="${#strings.abbreviate(figure.bio, 100)}">
            ì¸ë¬¼ ì†Œê°œ í…ìŠ¤íŠ¸...
          </p>

          <!-- í•˜ë‹¨ ì •ë³´ ì˜ì—­ - í†µê³„ì™€ ëŒ“ê¸€ ìˆ˜ë¥¼ ê°€ë¡œë¡œ ì¼ë ¬ ë°°ì¹˜ -->
          <div class="mt-auto flex items-center justify-between">
            <!-- í‰íŒ ì§€í‘œ -->
            <div class="reputation-indicator">
              <div class="reputation-item tooltip" data-tooltip="ìˆ­ë°°">
                <i class="fas fa-crown text-green-500 mr-1"></i>
                <span th:text="${figure.positives}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip mx-3" data-tooltip="ì¤‘ë¦½">
                <i class="fas fa-balance-scale text-blue-500 mr-1"></i>
                <span th:text="${figure.neutrals}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip" data-tooltip="ì‚¬í˜•">
                <i class="fas fa-skull text-red-500 mr-1"></i>
                <span th:text="${figure.negatives}" class="font-medium">0</span>
              </div>
            </div>

            <!-- ëŒ“ê¸€ ìˆ˜ í‘œì‹œ -->
            <a th:href="${@layoutHelper.toDetail(figure.categoryId, figure.slug) + '#comments'}"
               th:class="${figure.commentsCount > 0 ? 'comments-badge' : 'comments-badge opacity-70'}"
               th:attr="data-comment-count=${figure.commentsCount}">
              <i class="fas fa-comment-alt"></i>
              <span th:text="${figure.commentsCount}">0</span>
            </a>
          </div>
        </div>
      </div>

      <!-- êµ¬ê¸€ ê´‘ê³  ì˜ì—­ 1 (10ê°œ ì¸ë¬¼ í›„) -->
      <div
          class="ad-container notion-card p-4 flex flex-col justify-center items-center"
          th:if="${figures.size() >= 10}">
        <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1448769500494356"
                crossorigin="anonymous"></script>
        <!-- ë©”ì¸ í˜ì´ì§€ í•˜ë‹¨ -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1448769500494356"
             data-ad-slot="4397896653"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <!-- ì¸ë¬¼ ì¹´ë“œ 11-20ê°œ -->
      <div th:each="figure, iterStat : ${figures}"
           th:if="${iterStat.index >= 10 && iterStat.index < 20}"
           class="notion-card overflow-hidden transition-all duration-300 card-hover flex flex-col h-full"
      >
        <div class="figure-image-container">
          <a th:href="${figure.toFigureDetailsUri()}">
            <img
                th:src="${@layoutHelper.getProfileImageByString(figure.image)}"
                th:alt="${figure.name}" class="figure-image" data-handle-error="true"
                data-placeholder="/img/profile-placeholder.svg"
            >
          </a>

          <div class="name-overlay">
            <h3 class="text-xl font-bold text-white mb-0 drop-shadow-lg" th:text="${figure.name}">ì¸ë¬¼
              ì´ë¦„</h3>
          </div>

          <span th:text="${figure.categoryName}"
                class="category-badge">
            ì¹´í…Œê³ ë¦¬
          </span>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <p class="text-gray-600 mb-4 flex-grow line-clamp-3"
             th:text="${#strings.abbreviate(figure.bio, 100)}">
            ì¸ë¬¼ ì†Œê°œ í…ìŠ¤íŠ¸...
          </p>

          <div class="mt-auto flex items-center justify-between">
            <div class="reputation-indicator">
              <div class="reputation-item tooltip" data-tooltip="ìˆ­ë°°">
                <i class="fas fa-crown text-green-500 mr-1"></i>
                <span th:text="${figure.positives}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip mx-3" data-tooltip="ì¤‘ë¦½">
                <i class="fas fa-balance-scale text-blue-500 mr-1"></i>
                <span th:text="${figure.neutrals}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip" data-tooltip="ì‚¬í˜•">
                <i class="fas fa-skull text-red-500 mr-1"></i>
                <span th:text="${figure.negatives}" class="font-medium">0</span>
              </div>
            </div>

            <a th:href="${@layoutHelper.toDetail(figure.categoryId, figure.slug) + '#comments'}"
               th:class="${figure.commentsCount > 0 ? 'comments-badge' : 'comments-badge opacity-70'}"
               th:attr="data-comment-count=${figure.commentsCount}">
              <i class="fas fa-comment-alt"></i>
              <span th:text="${figure.commentsCount}">0</span>
            </a>
          </div>
        </div>
      </div>

      <!-- êµ¬ê¸€ ê´‘ê³  ì˜ì—­ 2 (20ê°œ ì¸ë¬¼ í›„) -->
      <div
          class="ad-container notion-card p-4 flex flex-col justify-center items-center"
          th:if="${figures.size() >= 20}">
        <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1448769500494356"
                crossorigin="anonymous"></script>
        <!-- ë©”ì¸ í˜ì´ì§€ í•˜ë‹¨ -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1448769500494356"
             data-ad-slot="4397896653"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <!-- ì¸ë¬¼ ì¹´ë“œ 21-30ê°œ -->
      <div th:each="figure, iterStat : ${figures}"
           th:if="${iterStat.index >= 20 && iterStat.index < 30}"
           class="notion-card overflow-hidden transition-all duration-300 card-hover flex flex-col h-full"
      >
        <div class="figure-image-container">
          <a th:href="${figure.toFigureDetailsUri()}">
            <img
                th:src="${@layoutHelper.getProfileImageByString(figure.image)}"
                th:alt="${figure.name}" class="figure-image" data-handle-error="true"
                data-placeholder="/img/profile-placeholder.svg"
            >
          </a>

          <div class="name-overlay">
            <h3 class="text-xl font-bold text-white mb-0 drop-shadow-lg" th:text="${figure.name}">ì¸ë¬¼
              ì´ë¦„</h3>
          </div>

          <span th:text="${figure.categoryName}"
                class="category-badge">
            ì¹´í…Œê³ ë¦¬
          </span>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <p class="text-gray-600 mb-4 flex-grow line-clamp-3"
             th:text="${#strings.abbreviate(figure.bio, 100)}">
            ì¸ë¬¼ ì†Œê°œ í…ìŠ¤íŠ¸...
          </p>

          <div class="mt-auto flex items-center justify-between">
            <div class="reputation-indicator">
              <div class="reputation-item tooltip" data-tooltip="ìˆ­ë°°">
                <i class="fas fa-crown text-green-500 mr-1"></i>
                <span th:text="${figure.positives}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip mx-3" data-tooltip="ì¤‘ë¦½">
                <i class="fas fa-balance-scale text-blue-500 mr-1"></i>
                <span th:text="${figure.neutrals}" class="font-medium">0</span>
              </div>
              <div class="reputation-item tooltip" data-tooltip="ì‚¬í˜•">
                <i class="fas fa-skull text-red-500 mr-1"></i>
                <span th:text="${figure.negatives}" class="font-medium">0</span>
              </div>
            </div>

            <a th:href="${@layoutHelper.toDetail(figure.categoryId, figure.slug) + '#comments'}"
               th:class="${figure.commentsCount > 0 ? 'comments-badge' : 'comments-badge opacity-70'}"
               th:attr="data-comment-count=${figure.commentsCount}">
              <i class="fas fa-comment-alt"></i>
              <span th:text="${figure.commentsCount}">0</span>
            </a>
          </div>
        </div>
      </div>

      <!-- êµ¬ê¸€ ê´‘ê³  ì˜ì—­ 3 (30ê°œ ì¸ë¬¼ í›„) -->
      <div
          class="ad-container notion-card p-4 flex flex-col justify-center items-center"
          th:if="${figures.size() >= 30}">
        <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1448769500494356"
                crossorigin="anonymous"></script>
        <!-- ë©”ì¸ í˜ì´ì§€ í•˜ë‹¨ -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1448769500494356"
             data-ad-slot="4397896653"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <!-- êµ¬ê¸€ ê´‘ê³  ì˜ì—­ 3 (30ê°œ ì¸ë¬¼ í›„) -->
      <div
          class="ad-container notion-card p-4 flex flex-col justify-center items-center"
          th:if="${figures.size() >= 30}">
        <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1448769500494356"
                crossorigin="anonymous"></script>
        <!-- ë©”ì¸ í˜ì´ì§€ í•˜ë‹¨ -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1448769500494356"
             data-ad-slot="4397896653"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <!-- ì¸ë¬¼ ì¶”ê°€ ì¹´ë“œ (í•­ìƒ ë§ˆì§€ë§‰ì— í‘œì‹œ) -->
      <a onclick="openFigureModal()"
         class="open-figure-modal notion-card overflow-hidden transition-all duration-300 card-hover add-figure-card flex flex-col h-full">
        <div class="figure-image-container flex items-center justify-center bg-indigo-50">
          <div class="text-center p-6">
            <div
                class="w-20 h-20 mx-auto bg-white rounded-full flex items-center justify-center mb-4 shadow-md add-figure-icon">
              <i class="fas fa-user-plus text-indigo-600 text-3xl"></i>
            </div>
            <h3 class="text-xl font-bold text-indigo-600">ìƒˆ ì¸ë¬¼ ë“±ë¡</h3>
          </div>
        </div>

        <div class="p-5 flex flex-col flex-grow">
          <p class="text-gray-600 mb-6 flex-grow text-center">
            ì•Œê³  ê³„ì‹  ê³µì  ì¸ë¬¼ì„ ì¶”ê°€í•˜ê³  ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ ì˜ê²¬ì„ ë‚˜ëˆ ë³´ì„¸ìš”.
          </p>

          <div class="mt-auto flex justify-center">
            <span
                class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition shadow-md">
              <i class="fas fa-plus-circle mr-2"></i> ì¸ë¬¼ ì¶”ê°€í•˜ê¸°
            </span>
          </div>
        </div>
      </a>
    </div>

    <!-- ë” ë§ì€ ì¸ë¬¼ ë³´ê¸° ë²„íŠ¼ -->
    <div class="text-center mt-10">
      <a href="/figures"
         class="apple-button apple-button-primary bg-indigo-100 text-indigo-700 hover:bg-indigo-200 transition transform hover:-translate-y-1 shadow-sm">
        <i class="fas fa-users mr-2"></i>
        ë” ë§ì€ ì¸ë¬¼ ë³´ê¸°
      </a>
    </div>
  </section>
</div>

<!-- í˜ì´ì§€ ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
<th:block layout:fragment="script">
  <!-- ê³µí†µ ìœ í‹¸ë¦¬í‹° -->
  <script src="/js/utils/utils.js"></script>

  <!-- í˜ì´ì§€ë³„ ìŠ¤í¬ë¦½íŠ¸ -->
  <script src="/js/utils/image-handler.js"></script>

  <script>
    // í˜ì´ì§€ ì´ˆê¸°í™” ì½”ë“œ
    document.addEventListener('DOMContentLoaded', function () {
      // ì´ë¯¸ì§€ ì˜¤ë¥˜ ì²˜ë¦¬
      const images = document.querySelectorAll('[data-handle-error="true"]');
      images.forEach(img => {
        img.addEventListener('error', function () {
          if (this.hasAttribute('data-placeholder')) {
            this.src = this.getAttribute('data-placeholder');
          }
        });
      });

      // ëŒ“ê¸€ ìˆ˜ì— ë”°ë¥¸ ìŠ¤íƒ€ì¼ ì ìš©
      document.querySelectorAll('.comments-badge').forEach(badge => {
        const commentCount = parseInt(badge.getAttribute('data-comment-count') || '0');

        // ëŒ“ê¸€ì´ ë§ì„ìˆ˜ë¡ ë” ê°•ì¡°ë˜ëŠ” ìŠ¤íƒ€ì¼ ì ìš©
        if (commentCount > 10) {
          badge.classList.add('bg-indigo-100');
          badge.classList.add('text-indigo-700');
          badge.classList.add('font-bold');
        } else if (commentCount > 5) {
          badge.classList.add('bg-indigo-50');
        } else if (commentCount === 0) {
          badge.classList.add('opacity-70');
        }
      });

      // ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
      const handleScrollAnimation = () => {
        const elements = document.querySelectorAll('.scroll-reveal');
        elements.forEach(el => {
          const rect = el.getBoundingClientRect();
          const windowHeight = window.innerHeight || document.documentElement.clientHeight;
          if (rect.top <= windowHeight * 0.85) {
            el.classList.add('revealed');
          }
        });
      };

      // ì´ˆê¸° ë¡œë“œ ì‹œì™€ ìŠ¤í¬ë¡¤ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì²´í¬
      handleScrollAnimation();
      window.addEventListener('scroll', handleScrollAnimation);
    });
  </script>
</th:block>
</body>
</html>